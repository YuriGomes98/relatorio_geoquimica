---
title: "Summary of Critical Copper and Lithium Deposits in Americas"
subtitle: "Using data compiled by Geoscience Australia, the Geological Survey of Canada and the United States Geological Survey" 
author: "Yuri Gomes"
date: "`r Sys.Date()`"
toc: true
number-sections: true
format:
  html:
    theme:
      light: flatly
      dark: darkly
    code-tools: true
    self-contained: true
    code-fold: true
    code-summary: "Show the code"
editor: visual
---

## Introduction

This report brings a summary of the South America & North America deposits of Copper (Cu), Gold (Au), Molybdenium (Mo), and Silver (Ag) contained in the Critical Minerals Mapping Initiative (CMMI) database CMMI is a collection of geochemical analysis of 7,000 samples from mineral deposits in 60 countries.

This report is for education and science communication only. You are free to share, copy and redistribute the material in any medium or format. You may not use the material for commercial purposes.

The full dataset as well as its information, authors and metadata can be accessed [here](https://ecat.ga.gov.au/geonetwork/srv/eng/catalog.search#/metadata/145496).

```{r images, fig.align= "left", fig.alt = "Chuquicamata Copper Mine, Chile, 2019"}

knitr::include_graphics("images/chuquicamata_cu_mine.jpg")

```

::: {style="text-align: right"}
<small>Fonte: <a href="https://unsplash.com/pt-br/fotografias/sRuz_SXLjCI">Unplash.com</a></small>
:::

<div style="text-align: justify">

## Data Import

Geoscience Australia, the Geological Survey of Canada, and the US Geological Survey compiled CMMI from publicly available sources, including mineral deposit, geochemistry, and the OSNACA databases.

```{r}
library(tidyverse)
library(ggplot2)
library(leaflet)
library(here)
library(countrycode)

cmmi_dataset <-
  readr::read_csv(
    here::here("projeto_report_geoquimica/CriticalMineralDepositsGeochemistry.csv")) |> 
janitor::clean_names()

```

The original dataset is divided into `r ncol(cmmi_dataset)` columns showing Sample ID, Analytes, Limit of Detections, Countries, Coordinates, among other information, and `r nrow(cmmi_dataset)` rows.

## Data Tidying and Data Filtering

For this analysis, we have four target elements: Copper (Cu), Gold (Au), Molybdenium (Mo), and Silver (Ag), exploring their distribution along the countries' deposits.

So we need to filter the dataset prior to leave only the necessary information.

```{r}
cmmi_americas <- cmmi_dataset |>
  dplyr::filter(country %in% c("MEX", "USA", "CAN", "BRA", "ARG", "CHL", "BOL", "PER", "URY", "ECU", "VEN", "COL")) |>
  dplyr::select(sample_name, deposit_name, deposit_environment, country, 
              state, cu_ppm, au_ppb, mo_ppm, ag_ppm, 
              deposit_longitude_wgs84, deposit_latitude_wgs84) |>
  mutate(country = countrycode(country, "iso3c", "country.name"))

```
